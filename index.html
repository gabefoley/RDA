<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="None">
  
  <link rel="shortcut icon" href="img/favicon.ico">
  <title>Retrieval of Database Annotations - Retrieval of Database Annotations</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="css/theme.css" type="text/css" />
  <link rel="stylesheet" href="css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Retrieval of Database Annotations";
    var mkdocs_page_input_path = "index.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="js/jquery-2.1.1.min.js" defer></script>
  <script src="js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="." class="icon icon-home"> Retrieval of Database Annotations</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="./search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1 current">
		
    <a class="current" href=".">Retrieval of Database Annotations</a>
    <ul class="subnav">
            
    <li class="toctree-l2"><a href="#retrieval-of-database-annotations">Retrieval of Database Annotations</a></li>
    
        <ul>
        
            <li><a class="toctree-l3" href="#basic-operations">Basic operations</a></li>
        
            <li><a class="toctree-l3" href="#brenda-options">BRENDA options</a></li>
        
            <li><a class="toctree-l3" href="#splitting-the-organism-name">Splitting the organism name</a></li>
        
            <li><a class="toctree-l3" href="#detailed-explanation-of-combining-annotations">Detailed explanation of combining annotations</a></li>
        
            <li><a class="toctree-l3" href="#editing-tsv-files">Editing .tsv files</a></li>
        
            <li><a class="toctree-l3" href="#blank-columns-and-rows">Blank columns and rows</a></li>
        
        </ul>
    

    </ul>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href=".">Retrieval of Database Annotations</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".">Docs</a> &raquo;</li>
    
      
    
    <li>Retrieval of Database Annotations</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="retrieval-of-database-annotations">Retrieval of Database Annotations</h1>
<p><a href="https://mkdocs.org">Retreivel of Database Annotations</a> is part of <a href="https://grasp.scmb.uq.edu.au">GRASP-suite</a>.</p>
<p>It is designed to add annotations from online databases to sets of protein sequences, in order for these annotations to be used within the ancestral sequence reconstruction program <a href="https://grasp.scmb.uq.edu.au">GRASP</a>.</p>
<h2 id="basic-operations">Basic operations</h2>
<h3 id="uniprot-annotations">UniProt annotations</h3>
<ul>
<li>Upload a FASTA file with your protein sequences of interest</li>
<li>Select the <a href="https://www.uniprot.org/help/uniprotkb_column_names">UniProt database fields</a> you wish to add to your annotation file</li>
<li>Download your annotation file and upload it into your chose reconstruction in <a href="https://grasp.scmb.uq.edu.au">GRASP</a>.</li>
</ul>
<h3 id="brenda-annotations">BRENDA annotations</h3>
<ul>
<li>Go to <a href="https://www.brenda-enzymes.org">BRENDA database</a> and search for the protein of interest.</li>
<li>At the bottom of this page, scroll down to the very bottom and select <ul>
<li>Download</li>
<li>BRENDA Textfile</li>
</ul>
</li>
<li>Upload this BRENDA annotations file (this is what is parsed by RDA)</li>
</ul>
<h3 id="combining-annotations">Combining annotations</h3>
<p>It is fine to add annotations from multiple databases, simply select retrieve each set of annotations before downloading the annotation file. For a more detailed explanation of how combining annotations works please see the <a href="#detailed">Detailed explanation of combining annotations</a> section. </p>
<h2 id="brenda-options">BRENDA options</h2>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Upload your BRENDA annotation file</strong></td>
<td>Upload the file which you want RDA to parse</td>
<td><em>Required</em></td>
</tr>
<tr>
<td><strong>Map based on species name, not UniProt ID</strong></td>
<td>BRENDA annotations sometimes contain information at the organism level, but not tied to specific UniProt records. <br><br>Selecting this option annotates the associated organisms in your uploaded FASTA file. <br><br>These are based on the organisms the species map to in UniProt.</td>
<td><em>True</em></td>
</tr>
<tr>
<td><strong>Add annotations common to all</strong></td>
<td>When an annotation is found that is common to all proteins in the BRENDA text file (<em>not necessarily all proteins in the uploaded FASTA file</em>) add it</td>
<td><em>True</em></td>
</tr>
<tr>
<td><strong>Add annotations found in comments</strong></td>
<td>Add annotations found in comment fields. Note: These can often contain important information</td>
<td><em>True</em></td>
</tr>
</tbody>
</table>
<p><a name="splitting"></a></p>
<h2 id="splitting-the-organism-name">Splitting the organism name</h2>
<p>If you are choosing to annotate from BRENDA you have the option of mapping from organism name, not UniProt ID. In these cases, RDA only selects the first two words of the organism name from the BRENDA annotation file <em>and</em> from the UniProt organism field in a means to better associate them, as each database sometimes appends additional information to this field.</p>
<p>For example -</p>
<pre><code>Zymomonas mobilis subsp. mobilis P0DJA2 UniProt 
</code></pre>

<p>Would become</p>
<pre><code>Zymomonas mobilis
</code></pre>

<p>To assess how well this has worked for your particular case, RDA outputs the following columns -</p>
<table>
<thead>
<tr>
<th>organism_uniprot</th>
<th>organism_brenda</th>
<th>organism_split</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>So that any that are mapping incorrectly can be manually removed.</p>
<p>Q97UB2  Saccharolobus solfataricus (strain ATCC 35092 / DSM 1617 / JCM 11322 / P2) (Sulfolobus solfataricus)
V9S9Y9  Sulfolobus acidocaldarius SUSAZ
A1B3F3  Paracoccus denitrificans</p>
<p><a name="detailed"></a></p>
<h2 id="detailed-explanation-of-combining-annotations">Detailed explanation of combining annotations</h2>
<p>Lets assume we have the following files</p>
<p><strong>FASTA file</strong> - seqs.fasta that has the following headers -</p>
<pre><code>&gt;tr|V9S9Y9|V9S9Y9_9CREN 
&gt;sp|Q97UB2|ILVD_SULSO 
&gt;tr|A1B3F3|A1B3F3_PARDP
</code></pre>

<p><strong>BRENDA annotations file</strong> that has the following proteins -</p>
<pre><code>PROTEIN
PR    #1# Salmonella enterica subsp. enterica serovar Typhimurium   &lt;10,12,16&gt;
PR    #2# Paracoccus denitrificans   &lt;6&gt;
PR    #21# Corynebacterium glutamicum Q8NQZ9 UniProt &lt;34,36&gt;
PR    #22# Sulfolobus solfataricus Q97UB2 SwissProt &lt;28,39&gt;
</code></pre>

<p>And we want to retrieve the annotation for <code>SUBSTRATE_PRODUCT</code> from BRENDA and the annotation for <code>mass</code> from UniProt</p>
<h4 id="1-first-lets-try-just-retrieving-annotations-from-brenda-based-on-uniprot-id">1. First let's try just retrieving annotations from BRENDA based on UniProt ID</h4>
<p>RDA can automatically retrieve the UniProt IDs from the <strong>BRENDA annotations file</strong>, but we can see from that file the only UniProt / SwissProt IDs that are present in that file are <code>Q8NQZ9</code> and <code>Q97UB2</code>.</p>
<p>And we can see that from our <strong>FASTA file</strong> only <code>Q97UB2</code> is present there.</p>
<p>So, our final annotations file to download will look like -</p>
<table>
<thead>
<tr>
<th>id</th>
<th>SUBSTRATE_PRODUCT_brenda</th>
</tr>
</thead>
<tbody>
<tr>
<td>Q97UB2</td>
<td>FIXME substrate product</td>
</tr>
</tbody>
</table>
<p><strong>Note:we automatically add a suffix indicating which database the field refers to, in order to differentiate between them</strong></p>
<h4 id="2-now-lets-try-retrieving-annotations-from-brenda-based-on-the-organism-name">2. Now let's try retrieving annotations from BRENDA based on the organism name</h4>
<p>RDA can also match up the organism names between a <strong>BRENDA annotations file</strong> and a <strong>FASTA file</strong>. For more information see the <a href="#splitting">Splitting the organism name</a> section.</p>
<p>RDA first maps all of the UniProt IDs in the <strong>FASTA file</strong> to their organism names, then splits the first two words from this annotation, resulting in a file like this -</p>
<table>
<thead>
<tr>
<th>id</th>
<th>organism_uniprot</th>
<th>organism_split</th>
</tr>
</thead>
<tbody>
<tr>
<td>Q97UB2</td>
<td>Saccharolobus solfataricus (strain ATCC 35092 / DSM 1617 / JCM 11322 / P2) (Sulfolobus solfataricus)</td>
<td>Saccharolobus solfataricus</td>
</tr>
<tr>
<td>V9S9Y9</td>
<td>Sulfolobus acidocaldarius SUSAZ</td>
<td>Sulfolobus acidocaldarius</td>
</tr>
<tr>
<td>A1B3F3</td>
<td>Paracoccus denitrificans</td>
<td>Paracoccus denitrificans</td>
</tr>
</tbody>
</table>
<p>From the <strong>BRENDA annotations file</strong> we can see that the organisms (after splitting) present are <code>Salmonella enterica</code>, <code>Paracoccus denitrificans</code>, <code>Corynebacterium glutamicum</code>, and <code>Sulfolobus solfataricus</code> - meaning we will be able to map both <code>Paracoccus denitrificans</code> and <code>Sulfolobus solfataricus</code> to their BRENDA annotations.</p>
<p>So, our final annotations file to download will look like (scroll to see all columns) -</p>
<table>
<thead>
<tr>
<th>id</th>
<th>organism_uniprot</th>
<th>organism_brenda</th>
<th>organism_split</th>
<th>SUBSTRATE_PRODUCT_brenda</th>
</tr>
</thead>
<tbody>
<tr>
<td>Q97UB2</td>
<td>Saccharolobus solfataricus (strain ATCC 35092 / DSM 1617 / JCM 11322 / P2) (Sulfolobus solfataricus)</td>
<td>Sulfolobus solfataricus Q97UB2 SwissProt</td>
<td>Sulfolobus solfataricus</td>
<td>'2,3-dihydroxy-3-methylpentanoate = 3-methyl-2-oxopentanoate + H2O'</td>
</tr>
<tr>
<td>A1B3F3</td>
<td>Paracoccus denitrificans</td>
<td>Paracoccus denitrificans</td>
<td>Paracoccus denitrificans</td>
<td>FIXME_substrate</td>
</tr>
</tbody>
</table>
<p><strong>Note: If there are multiple UniProt IDs that map to the same organism name, all of them will received the BRENDA annotations associated with that organism</strong></p>
<h4 id="3-now-lets-try-retrieving-annotations-from-uniprot">3. Now let's try retrieving annotations from UniProt</h4>
<p>Retrievals from UniProt always work just on UniProt ID. Remember that we're looking for the annotation for <code>mass</code> from UniProt (as opposed to the annotation for <code>SUBSTRATE_PRODUCT</code> from BRENDA).</p>
<p>Because it is based on UniProt ID, we will be able to map any sequences in the <strong>FASTA file</strong> with a UniProt / SwissProt ID.</p>
<p>So the final annotations file to download will look like - </p>
<table>
<thead>
<tr>
<th>id</th>
<th>mass_uniprot</th>
</tr>
</thead>
<tbody>
<tr>
<td>V9S9Y9</td>
<td>59,780</td>
</tr>
<tr>
<td>Q97UB2</td>
<td>59,422</td>
</tr>
<tr>
<td>A1B3F3</td>
<td>63,455</td>
</tr>
</tbody>
</table>
<p><strong>Note: We don't add in organism name FIXME: SHOULD WE?</strong></p>
<h4 id="4-now-lets-try-combining-retrievals-from-uniprot-and-brenda">4. Now let's try combining retrievals from UniProt and BRENDA</h4>
<p>To combine retrievals, we upload a single FASTA file, add annotations from UniProt and BRENDA (in any order) <em>and then</em> download the annotation file.</p>
<p>If we choose to combine a UniProt retrieval with a BRENDA based on UniProt ID, it will end up looking like this </p>
<table>
<thead>
<tr>
<th>id</th>
<th>mass_uniprot</th>
<th>SUBSTRATE_PRODUCT_brenda</th>
</tr>
</thead>
<tbody>
<tr>
<td>V9S9Y9</td>
<td>59,780</td>
<td></td>
</tr>
<tr>
<td>Q97UB2</td>
<td>59,422</td>
<td>'2,3-dihydroxy-3-methylpentanoate = 3-methyl-2-oxopentanoate + H2O'</td>
</tr>
<tr>
<td>A1B3F3</td>
<td>63,455</td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>Note: As long as there is at least one annotation for a protein, it will be included</strong></p>
<p>If we choose to combine a UniProt retrieval with a BRENDA based on organism name, it will end up looking like this </p>
<table>
<thead>
<tr>
<th>id</th>
<th>organism_uniprot</th>
<th>organism_brenda</th>
<th>organism_split</th>
<th>mass_uniprot</th>
<th>SUBSTRATE_PRODUCT_brenda</th>
</tr>
</thead>
<tbody>
<tr>
<td>V9S9Y9</td>
<td>Sulfolobus acidocaldarius SUSAZ</td>
<td></td>
<td></td>
<td>59,780</td>
<td></td>
</tr>
<tr>
<td>Q97UB2</td>
<td>Saccharolobus solfataricus (strain ATCC 35092 / DSM 1617 / JCM 11322 / P2) (Sulfolobus solfataricus)</td>
<td>Sulfolobus solfataricus Q97UB2 SwissProt</td>
<td>Saccharolobus solfataricus</td>
<td>59,422</td>
<td>'2,3-dihydroxy-3-methylpentanoate = 3-methyl-2-oxopentanoate + H2O'</td>
</tr>
<tr>
<td>A1B3F3</td>
<td>Paracoccus denitrificans</td>
<td>Paracoccus denitrificans</td>
<td>Paracoccus denitrificans</td>
<td>63,455</td>
<td>FIXME substrate</td>
</tr>
</tbody>
</table>
<h2 id="editing-tsv-files">Editing .tsv files</h2>
<p>The downloaded annotation file is a .tsv file, we can easily be edited to remove, merge, or add to columns in any programming language or tool such as Microsoft's Excel.</p>
<p>Manually creating or adding in additional columns and annotations will also work and allow them to be mapped and queried by <a href="https://grasp.scmb.uq.edu.au">GRASP</a>. </p>
<h2 id="blank-columns-and-rows">Blank columns and rows</h2>
<p>In order to make the process as transparent as possible, RDA does not remove columns or rows that end up blank, opting instead to pass these back to the user so that it can be clear which fields didn't map.</p>
              
            </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
      
    </span>
</div>
    <script>var base_url = '.';</script>
    <script src="js/theme.js" defer></script>
      <script src="search/main.js" defer></script>

</body>
</html>

<!--
MkDocs version : 1.0.4
Build Date UTC : 2019-07-18 02:30:47
-->
